<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SEIR disease model</title>
    <script type="text/javascript" src="d3.min.js" charset="utf-8">
    </script>
    <link rel="stylesheet" type="text/css" href="seir.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
      TeX: { equationNumbers: {
        autoNumber: "AMS",
        extensions: ["color.js"]
      }}});
    </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </head>
  <body>
    <div id="diagram">
      <img src="model-diagram.png" />
    </div>
    <div id="legend">
      The plot below shows the number of
      <span class="varS">Susceptible</span>,
      <span class="varE">Exposed</span>,
      <span class="varI">Infectious</span>, and
      <span class="varR">Resistant</span> individuals over time
      (in days) as percentages of the entire population.
    </div>
    <div id="plot-container">
      <div id="plot">
      </div>
    </div>
    <div id="model-eqns">
      <h2>Equations</h2>
      <script type="math/tex; mode=display">% <![CDATA[
  \begin{align*}
    \beta &= R_0 \cdot \gamma \\
    \frac{{d\class{varS}{S}}}{dt} &= - \beta \class{varI}{I} \cdot \frac{\class{varS}{S}}{N} + \sigma \class{varR}{R} \\
    \frac{d\class{varE}{E}}{dt} &= \beta \class{varI}{I} \cdot \frac{\class{varS}{S}}{N} - \alpha \class{varE}{E} \\
    \frac{d\class{varI}{I}}{dt} &= \alpha \class{varE}{E} - \gamma \class{varI}{I} \\
    \frac{d\class{varR}{R}}{dt} &= \gamma \class{varI}{I} - \sigma \class{varR}{R} \\
  \end{align*}
   %]]></script>
    </div>
    <div id="model-params">
      <h2>Parameters</h2>
      <span class="plot-control">
        <label for="R0">R<sub>0</sub>:</label>
        <select id="R0">
          <option value="1.2">1.2</option>
          <option value="1.4" selected>1.4</option>
          <option value="1.6">1.6</option>
          <option value="1.8">1.8</option>
          <option value="2.0">2.0</option>
          <option value="2.5">2.5</option>
          <option value="3.0">3.0</option>
          <option value="4.0">4.0</option>
          <option value="5.0">5.0</option>
          <option value="10.0">10.0</option>
        </select>
      </span>
      <span class="plot-control">
        <label for="lat_durn">Latent period
          \(\left(\frac{1}{\alpha}\right)\):</label>
        <select id="lat_durn">
          <option value="0.5" selected>½ day</option>
          <option value="1.0">1 day</option>
          <option value="2.0">2 days</option>
          <option value="4.0">4 days</option>
          <option value="7.0">1 week</option>
          <option value="14.0">2 weeks</option>
        </select>
      </span>
      <span class="plot-control">
        <label for="inf_durn">Infectious period
          \(\left(\frac{1}{\gamma}\right)\):</label>
        <select id="inf_durn">
          <option value="0.5">½ day</option>
          <option value="1.0">1 day</option>
          <option value="2.0" selected>2 days</option>
          <option value="4.0">4 days</option>
        </select>
      </span>
      <span class="plot-control">
        <label for="res_durn">Duration of resistance
          \(\left(\frac{1}{\sigma}\right)\):</label>
        <select id="res_durn">
          <option value="7">1 week</option>
          <option value="30">1 month</option>
          <option value="180">6 months</option>
          <option value="365">1 year</option>
          <option value="-1" selected>Permanent</option>
        </select>
      </span>
      <span class="plot-control">
        <label for="susc_frac">Initial susceptibility
          \(\left(S(t=0)\right)\):</label>
        <select id="susc_frac">
          <option value="0.25">25%</option>
          <option value="0.50">50%</option>
          <option value="0.75">75%</option>
          <option value="0.90">90%</option>
          <option value="1.0" selected>100%</option>
        </select>
      </span>
      <!-- <span class="plot-control"> -->
      <!--   <label for="n_days">Days:</label> -->
      <!--   <input id="n_days" type="range" min="90" max="360" step="1" value="120" /> -->
      <!-- </span> -->
    </div>

    <script type="text/javascript" src="seir.js" charset="utf-8"></script>
    <script type="text/javascript">
      SIR.plot('#plot', '#model-params');
    </script>
  </body>
</html>
